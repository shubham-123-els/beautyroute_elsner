<?php $priceModel = $block->getPriceType('regular_price'); $finalPriceModel = $block->getPriceType('final_price'); $idSuffix = $block->getIdSuffix() ? $block->getIdSuffix() : ''; $schema = ($block->getZone() == 'item_view') ? true : false; $helper = $this->helper("Elsnertech\StorePrice\Helper\NewData"); $country = $helper->countryName(); $_product = $block->getPriceType('final_price')->getProduct(); $_pricedata = $helper->getProductPrice($_product->getId()); $DiscountPrice = $helper->getCureentDiscountType($_product->getId()); ?> <?php if ($block->hasSpecialPrice()) :?> <?php if ($country!="United States" && $country!="Canada") :?> <span class="special-price"><?= /* @noEscape */ $block->renderAmount($finalPriceModel->getAmount(), [ 'display_label' => __('Special Price'), 'price_id' => $block->getPriceId('product-price-' . $idSuffix), 'price_type' => 'finalPrice', 'include_container' => true, 'schema' => $schema ]); ?></span> <span class="old-price"><?= /* @noEscape */ $block->renderAmount($priceModel->getAmount(), [ 'display_label' => __('Regular Price'), 'price_id' => $block->getPriceId('old-price-' . $idSuffix), 'price_type' => 'oldPrice', 'include_container' => true, 'skip_adjustments' => true ]); ?></span> <?php endif; ?> <?php else :?> <?php if (!empty($DiscountPrice)) :?> <div class="new-price"><span class="special-price"><span class="price-container price-final_price tax weee ip-pricing"><span class="price-label"><?= __('As low as') ?></span> <span id="product-price"><?php $_pricedata = number_format((float)$_pricedata, 2, '.', ''); ?> <span class="price"><?= $helper->getStoreCurrency().$_pricedata ?></span></span></span></span></div><?php endif; ?> <?php if (!empty($DiscountPrice)) :?> <div class="old-price"><?php endif; ?> <span class="price-container price-final_price tax weee"><span id="product-price" class="price-wrapper "><span class="price"><?php $_pricedata = number_format((float)$_product->getPrice(), 2, '.', ''); ?> <span class="price"><?= $helper->getStoreCurrency().$helper->newconvertPrice($_pricedata) ?></span></span></span></span> <?php if (!empty($DiscountPrice)) :?></div><?php endif; ?> <?php endif; ?> <br> <?php if ($block->showMinimalPrice()) :?> <?php if ($block->getUseLinkForAsLowAs()) :?> <a href="<?= $block->escapeUrl($block->getSaleableItem()->getProductUrl()) ?>" class="minimal-price-link"><?= /* @noEscape */ $block->renderAmountMinimal() ?></a> <?php else :?> <span class="minimal-price-link"><?= /* @noEscape */ $block->renderAmountMinimal() ?></span> <?php endif?> <?php endif; ?>