<?php /** * @category FishPig * @package FishPig_WordPress * @notes This template is used when there post/list.phtml doesn't have a child block called 'renderer' * @notes This happens when post/list.phtml is called in via PHP rather than via the default layout handles */ ?> <?php $helper = $this->helper('Elsnertech\Customization\Helper\Data'); $currentStore = $helper->getStoreName(); $webConfig = $helper->getwebConfig(); ?> <?php if ($post = $block->getPost()): ?> <div class="post-list-item"><?php if ($image = $post->getImage()): ?> <a href="<?= $block->escapeUrl($post->getUrl()) ?>" class="img-wrapper"><?php $imageUrl = $image->getResizer() ? $image->getResizer()->constrainOnly(true)->keepFrame(false)->keepAspectRatio(true)->resize(600, null) : '' ?> <?php $imageUrl = str_replace($webConfig,"/pub/",$imageUrl); ?> <img src="<?= $block->escapeUrl($imageUrl) ?>" alt="<?= $block->escapeHtml($post->getName()) ?>"/></a> <?php endif; ?> <div class="content-wrapper"><div class="content-body"><?php if ($categoryString = $post->getTermCollectionAsString('category')): ?> <h6 class="post-category"><?= __($categoryString) ?></h6><?php endif; ?> <h2><a href="<?= $block->escapeUrl($post->getUrl()) ?>" title="<?= $block->escapeHtml($post->getName()) ?>"><?= $block->escapeHtml($post->getName()) ?></a></h2><div class="rte"><?= $post->getExcerpt(60) ?></div><?php if ($tagString = $post->getTermCollectionAsString('post_tag')): ?> <div class="tags-wrapper"><?php $tagString = str_replace('&',' ',$tagString); ?> <?php $tagString = str_replace('amp; ',' ',$tagString); ?> <?php $tagString = str_replace(', ',' ',$tagString); ?> <?= $tagString ?></div><?php endif; ?></div><div class="content-footer"><div class="posted-by"><label><?= __('By') ?>:</label> <a href="<?= $block->escapeUrl($post->getUser()->getUrl()) ?>"><?= $block->escapeHtml($post->getUser()->getDisplayName()) ?></a></div><div class="posted-date"><label><?= $block->escapeHtml($post->getPostDate()) ?></label></div></div></div><!-- <h2><a href="<?= $block->escapeUrl($post->getUrl()) ?>" title="<?= $block->escapeHtml($post->getName()) ?>"><?= $block->escapeHtml($post->getName()) ?></a></h2><?php if (!$post->isViewableForVisitor()): ?> <?= $block->getPasswordProtectHtml() ?> <?php else: ?> <div class="post-entry"><?php if ($image = $post->getImage()): ?> <div class="post-image"><a href="<?= $block->escapeUrl($post->getUrl()) ?>" title="<?= $block->escapeHtml($post->getName()) ?>"><img src="<?= $block->escapeUrl($imageUrl) ?>" alt="<?= $block->escapeHtml($post->getName()) ?>"/></a></div><?php endif; ?> <div class="post-excerpt"><?= $post->getExcerpt(60) ?></div></div><?php endif; ?> <div class="post-meta"><?php if ($tagString = $post->getTermCollectionAsString('post_tag')): ?> <div class="post-tags post-meta-item"><strong><?= __('Tags') ?>:</strong> <?= $tagString ?></div><?php endif; ?> <div class="post-date post-meta-item"><strong><?= __('Posted On') ?>:</strong> <?= $block->escapeHtml($post->getPostDate()) ?></div><div class="post-user post-meta-item"><strong><?= __('Posted By') ?>:</strong> <a href="<?= $block->escapeUrl($post->getUser()->getUrl()) ?>"><?= $block->escapeHtml($post->getUser()->getDisplayName()) ?></a></div></div> --></div><?php endif; ?>